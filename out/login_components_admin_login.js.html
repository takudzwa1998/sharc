<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: login_components/admin_login.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: login_components/admin_login.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from 'react';
import '../App.css';
import axios from "axios";
import { Redirect } from "react-router-dom";

/**
*Admin_Login - login page for researchers and administrators
*@class Admin_Login -class
*
*/

class Admin_Login extends React.Component{

constructor(props){
  super(props);
}

state={
    password:'',
    rid:'',
    isLogged: false
  };

submit=(event)=>{
  event.preventDefault();
  const load = {
    rid:this.state.rid,
    password:this.state.password
  }

  axios.post('/access/login', load)
.then( (res)=>{
  console.log("POST METHOD");
  if(res){
    console.log("Where is the data "+res.data);
    if (res.data == true){
      console.log("Login Success");
      localStorage.setItem("token", this.state.rid);
      this.setState({islogged: true});
    }
  }
  })
  .catch(function (error) {
      console.log(error);
    });

};

stateChange=({target})=>{
    const {name, value}=target;
    this.setState({[name]: value});
  };

render(){
    if (localStorage.getItem("token")) {
      return &lt;Redirect to="/home" />;
    }
    return(
      &lt;div className="Login">
      &lt;h2 className="Login">Admin Login Page&lt;/h2>
      &lt;form onSubmit={this.submit} className="Login">
      &lt;input
        type="text"
        data-testid="rid"
        name="rid"
        className="demo"
        placeholder= "Researcher ID"
        value={this.state.rid}
        onChange={this.stateChange}
      />
      &lt;input
        type="password"
        name="password"
        data-testid="password"
        placeholder= "Password"
        value={this.state.password}
        onChange={this.stateChange}
      />
      &lt;button data-testid="login-button">Login&lt;/button>
      &lt;/form>
      &lt;/div>

    );
  }

}

export default Admin_Login;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Admin_Login.html">Admin_Login</a></li><li><a href="Analytics.html">Analytics</a></li><li><a href="Area_graph.html">Area_graph</a></li><li><a href="Buoys.html">Buoys</a></li><li><a href="Contacts.html">Contacts</a></li><li><a href="Dashboard.html">Dashboard</a></li><li><a href="Graphs.html">Graphs</a></li><li><a href="Home.html">Home</a></li><li><a href="Landing_page.html">Landing_page</a></li><li><a href="Line_graph.html">Line_graph</a></li><li><a href="Location_middleware.html">Location_middleware</a></li><li><a href="P_graph.html">P_graph</a></li><li><a href="Scale.html">Scale</a></li><li><a href="Stats.html">Stats</a></li><li><a href="Stats_admin.html">Stats_admin</a></li><li><a href="Users.html">Users</a></li><li><a href="WS_graph.html">WS_graph</a></li></ul><h3>Global</h3><ul><li><a href="global.html#Location">Location</a></li><li><a href="global.html#Navigation">Navigation</a></li><li><a href="global.html#Navigation_data">Navigation_data</a></li><li><a href="global.html#ProtectedRoute">ProtectedRoute</a></li><li><a href="global.html#Routers">Routers</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Thu Oct 29 2020 15:53:36 GMT+0200 (South Africa Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
